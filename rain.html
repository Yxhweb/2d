<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rain</title>
</head>
<style>
    body{
        width: 100%;
        height: 100%;
        background: #000;
        padding: 0;
        margin: 0;
        overflow: hidden;
    }
</style>
<body>

</body>
<script>
    window.onload=function () {
        var arr=[];
        var clientW=document.documentElement.clientWidth;   //浏览器宽
        var clientH=document.documentElement.clientHeight+300;
        var speed=10;
        // 雨点布局
        for(var i=0;i<200;i++){
            var rain=document.createElement("div");
            rain.style.cssText="width:2px;height:6px;background:#fff;position:absolute;left:"+((clientW+100)*Math.random())+"px;top:-250px";
            rain.style.transition="transform 2s Linear "+Math.random()*3+"s";
            arr.push(rain);
            setTimeout(function () {
                for(let i=0;i<arr.length;i++){
                    arr[i].style.transform="translate(0,"+clientH+"px)";
                    
                    arr[i].addEventListener("webkitTransitionEnd",function () {
                        var that=this;
                        this.style.transition="none";
                        this.style.transform="translate(0,0)";
                        setTimeout(function () {
                            that.style.transition="transform 2s Linear "+Math.random()*3+"s";
                            that.style.transform="translate(0,"+clientH+"px)";
                        },0)
                    })
                }
            },0);
            document.body.appendChild(rain);
        }
        // 摇晃
        var t=setInterval(function () {
            document.body.style.transition="transform 2s Linear";
            speed+=10;
            document.body.style.transform="rotate("+Math.sin(Math.PI/180*speed)*20+"deg)";
        },500)
    }
</script>
</html>